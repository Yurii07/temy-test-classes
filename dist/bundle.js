!function(e){var t={};function n(s){if(t[s])return t[s].exports;var a=t[s]={i:s,l:!1,exports:{}};return e[s].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(s,a,function(t){return e[t]}.bind(null,a));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);let s=new class{constructor(){this.uname=document.getElementById("first_name")}validateName(){if(this.uname.value.match(/^[A-Za-z]+$/)){let e=this.uname.closest("div");return e.classList.remove("error"),this.uname.classList.remove("invalid"),e.classList.add("success"),this.uname.classList.add("valid"),!0}return this.uname.closest("div").classList.add("error"),this.uname.classList.add("invalid"),this.uname.focus(),!1}};let a=new class{constructor(){this.email=document.getElementById("email")}validateEmail(){if(this.email.value.match(/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/)){let e=this.email.closest("div");return e.classList.remove("error"),e.classList.add("success"),this.email.classList.remove("invalid"),this.email.classList.add("valid"),!0}return this.email.closest("div").classList.add("error"),this.email.classList.add("invalid"),this.email.focus(),!1}};let l=new class{constructor(){this.phone_number=document.getElementById("phone_number")}validatePhone(){if(this.phone_number.value.match(/^\d{11}$/)){let e=this.phone_number.closest("div");return e.classList.remove("error"),e.classList.add("success"),this.phone_number.classList.remove("invalid"),this.phone_number.classList.add("valid"),!0}return this.phone_number.closest("div").classList.add("error"),this.phone_number.classList.add("invalid"),this.phone_number.focus(),!1}};let c=new class{textareaListener(){let e=document.getElementById("textareaID"),t=document.querySelector(".input-field label");e.addEventListener("input",function(){document.getElementById("charcount").innerHTML=e.value.length+" / 500 ",e.value.length>=e.getAttribute("maxlength")&&alert("You have reached the maximum length of characters")}),e.addEventListener("focus",function(){0===this.value.length&&t.classList.add("active")}),e.addEventListener("blur",function(){0===this.value.length?t.classList.remove("active"):t.classList.add("active")})}};let i=new class{country(){let e=document.getElementById("select_countries").closest("div");return"Default"===document.getElementById("select_countries").value?(e.classList.add("error"),!1):(document.getElementById("select_states").disabled=!1,e.classList.remove("error"),e.classList.add("success"),!0)}};let d=new class{state(){let e=document.getElementById("select_states").closest("div");return"Default"===document.getElementById("select_states").value?(e.classList.add("error"),!1):(document.getElementById("select_city").disabled=!1,e.classList.remove("error"),e.classList.add("success"),!0)}};let o=new class{city(){let e=document.getElementById("select_city").closest("div");return"Default"===document.getElementById("select_city").value?(e.classList.add("error"),!1):(document.getElementById("select_city").disabled=!1,e.classList.remove("error"),e.classList.add("success"),!0)}};let r=new class{constructor(){this.countries="http://127.0.0.1:3000/countries",this.states="http://127.0.0.1:3000/states",this.cities="http://127.0.0.1:3000/cities",this.users="http://127.0.0.1:3000/users"}get(){axios.get(this.countries).then(function(e){let t=document.getElementById("select_countries");e.data.forEach(function(e){let n=[e.name];for(let e=0;e<n.length;e++){let s=document.createElement("option");s.textContent=n[e],s.value=n[e],t.appendChild(s)}});let n=document.createElement("ul");for(let t=0;t<e.data.length;t++){let s=document.createElement("li");s.textContent=e.data[t].id,s.value=e.data[t].id,n.appendChild(s)}}).catch(function(e){console.log(e)}),axios.get(this.states).then(function(e){let t=document.getElementById("select_states");e.data.forEach(function(e){let n=[e.name];for(let e=0;e<n.length;e++){let s=document.createElement("option");s.textContent=n[e],s.value=n[e],t.appendChild(s)}});let n=document.createElement("ul");for(let t=0;t<e.data.length;t++){let s=document.createElement("li");s.textContent=e.data[t].id,s.value=e.data[t].id,n.appendChild(s)}}).catch(function(e){console.log(e)}),axios.get(this.cities).then(function(e){let t=document.getElementById("select_city");e.data.forEach(function(e){let n=[e.name];for(let e=0;e<n.length;e++){let s=document.createElement("option");s.textContent=n[e],s.value=n[e],t.appendChild(s)}});let n=document.createElement("ul");for(let t=0;t<e.data.length;t++){let s=document.createElement("li");s.textContent=e.data[t].state_id,s.value=e.data[t].state_id,n.appendChild(s)}}).catch(function(e){console.log(e)}),axios.get(this.users).then(function(e){let t=document.getElementById("users");for(let n=0;n<e.data.length;n++){let s=document.createElement("li");s.textContent=e.data[n].name,s.classList.add("chip"),s.setAttribute("value",e.data[n].id),t.appendChild(s);let a=document.createElement("i");a.textContent="person",a.classList.add("material-icons"),s.appendChild(a)}}).catch(function(e){console.log(e)})}post(){let e=document.getElementById("first_name").value,t=document.getElementById("email").value,n=document.getElementById("phone_number").value,s=document.getElementById("address").value,a=document.getElementById("textareaID").value,l=document.getElementById("select_countries").value,c=document.getElementById("select_states").value,i=document.getElementById("select_city").value,d=document.getElementById("formID"),o={name:e,email:t,phone_number:n,address:s,about_me:a,country_id:l,state_id:c,city_id:i};axios.post(this.users,JSON.stringify(o),{headers:{"Content-Type":"application/json"}}).then(function(e){console.log(e);let t=document.getElementById("users"),n=document.createElement("li");n.classList.add("chip"),n.textContent=e.data.name,t.appendChild(n);let s=document.createElement("i");s.textContent="person",s.classList.add("material-icons"),n.appendChild(s),d.reset(),document.querySelectorAll(".field, input").forEach(function(e){e.classList.remove("success"),e.classList.remove("valid")})}).catch(function(e){console.log(e)})}};let u=new class{createModal(){let e=document.getElementById("modal1"),t=document.getElementById("popup__close");e.style.display="flex",t.addEventListener("click",function(){e.style.display="none"})}};let m=new class{validateAllFields(){return!!(s.validateName()&&a.validateEmail()&&l.validatePhone()&&i.country()&&d.state()&&o.city())}};c.textareaListener(),document.getElementById("select_countries").addEventListener("change",i.country),document.getElementById("select_states").addEventListener("change",d.state),document.getElementById("select_city").addEventListener("change",o.city),r.get(),document.getElementById("formID").addEventListener("submit",function(e){e.preventDefault(),console.log("submit"),l.validatePhone(),a.validateEmail(),s.validateName(),i.country(),d.state(),o.city(),m.validateAllFields()&&i.country()&&d.state()&&o.city()&&(u.createModal(),r.post())})}]);